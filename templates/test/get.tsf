/** @fragment-contract
 * @description Test Template for Get Operation
 * @input {string} kebabEntity
 * @input {string} camelEntity
 * @input {string} actorStatement
 * @input {string} actorStatementNeg
 * @input {string} setupSnippet
 */
import { fragment } from '@nexical/generator';

declare const kebabEntity: string;
declare const camelEntity: string;
declare const actorStatement: unknown;
declare const actorStatementNeg: unknown;
declare const setupSnippet: unknown;

export default fragment/* ts */`
// GET /api/${kebabEntity}/[id]
describe('GET /api/${kebabEntity}/[id]', () => {
  it('should retrieve a specific ${camelEntity}', async () => {
    ${actorStatement}
            
    ${setupSnippet}

    const res = await client.get(\`/api/${kebabEntity}/\${target.id}\`);

    expect(res.status).toBe(200);
    expect(res.body.data.id).toBe(target.id);
  });

  it('should return 404 for missing id', async () => {
    ${actorStatementNeg}
    const res = await client.get('/api/${kebabEntity}/missing-id-123');
    expect(res.status).toBe(404);
  });
});
`;
